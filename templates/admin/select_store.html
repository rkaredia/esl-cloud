{% extends "admin/base_site.html" %}
{% block content %}
<style>
    .store-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; margin-top: 20px; }
    .store-card { background: white; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px; transition: 0.3s; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
    .store-card:hover { border-color: #38bdf8; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    .store-name { font-size: 18px; font-weight: bold; color: #1e293b; margin: 0 0 5px 0; }
    .store-meta { color: #64748b; font-size: 13px; margin-bottom: 15px; }
    .btn-select { background: #0284c7; color: white !important; padding: 8px 16px; border-radius: 6px; text-decoration: none; display: inline-block; font-weight: 600; font-size: 14px; }
</style>

<div id="content-main">
    <h1>Select Active Workspace</h1>
    <p>Choose a store to manage products, tags, and price books.</p>
    
    <div class="store-grid">
        {% for store in stores %}
        <div class="store-card">
            <div class="store-name">{{ store.name }}</div>
            <div class="store-meta">Location Code: {{ store.location_code|default:"N/A" }}</div>
            <a href="{% url 'set_active_store' store.id %}" class="btn-select">Manage Store</a>
            
        </div>

        {% empty %}
        <p>No stores found for your company.</p>
        {% endfor %}
    </div>
</div>
<div class="selection-footer" style="margin-top: 30px; border-top: 1px solid #eee; padding-top: 20px;">
    <p>Logged in as <strong>{{ user.username }}</strong></p>
    
    <form action="{% url 'admin:logout' %}" method="post">
        {% csrf_token %}
        <button type="submit" class="logout-btn" style="background: none; border: none; color: #0284c7; text-decoration: underline; cursor: pointer; padding: 0; font: inherit;">
            Log Out / Switch Account
        </button>
    </form>
</div>
{% endblock %}


