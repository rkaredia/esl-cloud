{% extends "admin/base_site.html" %}
{% block content %}
<h2>ESL Tag Import Preview</h2>

<div style="display: flex; gap: 20px; margin-bottom: 20px;">
    <div style="background: #d4edda; padding: 15px; border-radius: 5px;">Added: <strong>{{ summary.added }}</strong></div>
    <div style="background: #fff3cd; padding: 15px; border-radius: 5px;">Updated: <strong>{{ summary.updated }}</strong></div>
    <div style="background: #f8d7da; padding: 15px; border-radius: 5px;">Rejected: <strong>{{ summary.rejected }}</strong></div>
</div>

<table style="width: 100%; border-collapse: collapse;">
    <thead>
        <tr style="background: #f4f4f4; text-align: left;">
            <th style="padding: 10px; border: 1px solid #ddd;">MAC Address</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Status</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Message</th>
        </tr>
    </thead>
    <tbody>
        {% for item in results %}
        <tr>
            <td style="padding: 10px; border: 1px solid #ddd;">{{ item.mac }}</td>
            <td style="padding: 10px; border: 1px solid #ddd;">
                <span style="color: {% if item.status == 'rejected' %}red{% elif item.status == 'added' %}green{% else %}blue{% endif %};">
                    {{ item.status|upper }}
                </span>
            </td>
            <td style="padding: 10px; border: 1px solid #ddd;">{{ item.message }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<div style="margin-top: 20px;">
    <a href="{% url 'admin:core_esltag_changelist' %}" class="button">Back to ESL Tags</a>
</div>
{% endblock %}